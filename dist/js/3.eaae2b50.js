(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[3],{3:(e,t,r)=>{"use strict";r.d(t,{Z:()=>v});var n=function(){var e,t=this,n=t._self._c;return t.recipe?n("div",{staticClass:"recipe-container"},[n("div",{staticClass:"recipe-header mt-3 mb-4"},[n("h1",{staticClass:"title"},[t._v(t._s(t.recipe.title))]),n("img",{staticClass:"center",attrs:{src:t.recipeImage}})]),n("div",{staticClass:"recipe-body"},[n("div",{staticClass:"wrapper"},[n("div",{staticClass:"wrapped"},[n("div",{staticClass:"mb-3"},[n("div",[t._v("Ready in "+t._s(t.recipe.readyInMinutes)+" minutes")]),n("div",[t._v("Likes: "+t._s(t.recipe.aggregateLikes)+" likes")]),n("div",[t._v("Servings: "+t._s(t.recipe.servings))]),n("div",{staticClass:"icons"},[t.recipe.vegetarian?n("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:"Vegetarian",expression:"'Vegetarian'",modifiers:{hover:!0}}],staticClass:"icon",attrs:{src:r(7943),alt:"Vegetarian"}}):t._e(),t.recipe.vegan?n("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:"Vegan",expression:"'Vegan'",modifiers:{hover:!0}}],staticClass:"icon",attrs:{src:r(4887),alt:"Vegan"}}):t._e(),t.recipe.glutenFree?n("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:"Gluten Free",expression:"'Gluten Free'",modifiers:{hover:!0}}],staticClass:"icon",attrs:{src:r(5041),alt:"Gluten Free"}}):t._e()])]),t._v(" Ingredients: "),n("ul",t._l(t.recipe.extendedIngredients,(function(e,r){return n("li",{key:r+"_"+e.id},[t._v(" "+t._s(e.original)+" ")])})),0)]),n("div",{staticClass:"wrapped"},[t._v(" Instructions: "),n("ol",t._l((null===(e=t.recipe.analyzedInstructions[0])||void 0===e?void 0:e.steps)||[],(function(e,r){return n("li",{key:r},[t._v(" "+t._s(e.step)+" ")])})),0)])]),n("div",{staticClass:"summary"},[n("p",{domProps:{innerHTML:t._s(t.recipe.summary)}})])]),n("div",{staticClass:"status"},[n("div",{staticClass:"icon-container"},[n("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:"Add to Favorite",expression:"'Add to Favorite'",modifiers:{hover:!0}}],staticClass:"favorite-icon",attrs:{src:t.favoriteIcon,alt:"Favorite"},on:{click:t.toggleFavorite,mouseover:function(e){t.favoriteHover=!0},mouseleave:function(e){t.favoriteHover=!1}}})]),n("div",{staticClass:"icon-container"},[n("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",value:"Add to Meal Planning",expression:"'Add to Meal Planning'",modifiers:{hover:!0}}],staticClass:"add-icon",attrs:{src:t.addIcon,alt:"Add to Meal Planning"},on:{click:t.toggleMealPlanning,mouseover:function(e){t.addHover=!0},mouseleave:function(e){t.addHover=!1}}})])])]):n("div",[n("p",[t._v("Loading...")])])},a=[],i=r(6835),s=r(8534),c=(r(4916),r(4723),r(9805)),o=r(3099);const u={data:function(){return{recipe:null,favoriteHover:!1,addHover:!1,isPlanned:!1}},created:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function t(){var r,n;return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.prev=1,t.next=4,(0,c.wb)(r);case 4:return n=t.sent,e.recipe=n,t.next=8,(0,c.lJ)(r);case 8:console.log("Recipe:",e.recipe),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](1),console.error("Failed to fetch recipe or mark as watched:",t.t0);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})))()},computed:{recipeImage:function(){return this.recipe.image&&this.recipe.image.match(/\.(jpeg|jpg|gif|png)$/)?this.recipe.image:r(6212)},favoriteIcon:function(){return this.favoriteHover||this.recipe&&this.recipe.favorited?r(3e3):r(2996)},addIcon:function(){return this.addHover||this.isPlanned?r(6797):r(714)}},methods:{toggleFavorite:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.$root.store.username){t.next=3;break}return alert("Please log in to add favorites"),t.abrupt("return");case 3:if(t.prev=3,!e.recipe.favorited){t.next=10;break}return t.next=7,(0,o.Ni)(e.recipe.id);case 7:e.recipe.favorited=!1,t.next=13;break;case 10:return t.next=12,(0,o.a3)(e.recipe.id);case 12:e.recipe.favorited=!0;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),console.error("Failed to toggle favorite:",t.t0),alert("Failed to update favorite status.");case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))()},toggleMealPlanning:function(){this.isPlanned=!this.isPlanned,this.isPlanned?this.$emit("add-to-meal-planning",this.recipe):this.$emit("remove-from-meal-planning",this.recipe)}}},l=u;var p=r(1001),d=(0,p.Z)(l,n,a,!1,null,"30effbd0",null);const v=d.exports},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1470),a=r(8052),i=r(2261),s=r(7293),c=r(5112),o=r(8880),u=c("species"),l=RegExp.prototype;e.exports=function(e,t,r,p){var d=c(e),v=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),g=v&&!s((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[d]=/./[d]),r.exec=function(){return t=!0,null},r[d](""),!t}));if(!v||!g||r){var f=n(/./[d]),h=t(d,""[e],(function(e,t,r,a,s){var c=n(e),o=t.exec;return o===i||o===l.exec?v&&!s?{done:!0,value:f(t,r,a)}:{done:!0,value:c(r,t,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(l,d,h[1])}p&&o(l[d],"sham",!0)}},7651:(e,t,r)=>{var n=r(6916),a=r(9670),i=r(614),s=r(4326),c=r(2261),o=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var u=n(r,e,t);return null!==u&&a(u),u}if("RegExp"===s(e))return n(c,e,t);throw o("RegExp#exec called on incompatible receiver")}},2261:(e,t,r)=>{"use strict";var n=r(6916),a=r(1702),i=r(1340),s=r(7066),c=r(2999),o=r(2309),u=r(30),l=r(9909).get,p=r(9441),d=r(7168),v=o("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,f=g,h=a("".charAt),x=a("".indexOf),m=a("".replace),w=a("".slice),b=function(){var e=/a/,t=/b*/g;return n(g,e,"a"),n(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1],y=b||I||_||p||d;y&&(f=function(e){var t,r,a,c,o,p,d,y=this,k=l(y),C=i(e),E=k.raw;if(E)return E.lastIndex=y.lastIndex,t=n(f,E,C),y.lastIndex=E.lastIndex,t;var Z=k.groups,R=_&&y.sticky,P=n(s,y),F=y.source,A=0,N=C;if(R&&(P=m(P,"y",""),-1===x(P,"g")&&(P+="g"),N=w(C,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==h(C,y.lastIndex-1))&&(F="(?: "+F+")",N=" "+N,A++),r=new RegExp("^(?:"+F+")",P)),I&&(r=new RegExp("^"+F+"$(?!\\s)",P)),b&&(a=y.lastIndex),c=n(g,R?r:y,N),R?c?(c.input=w(c.input,A),c[0]=w(c[0],A),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:b&&c&&(y.lastIndex=y.global?c.index+c[0].length:a),I&&c&&c.length>1&&n(v,c[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(c[o]=void 0)})),c&&Z)for(c.groups=p=u(null),o=0;o<Z.length;o++)d=Z[o],p[d[0]]=c[d[1]];return c}),e.exports=f},7066:(e,t,r)=>{"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},2999:(e,t,r)=>{var n=r(7293),a=r(7854),i=a.RegExp,s=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),c=s||n((function(){return!i("a","y").sticky})),o=s||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:s}},9441:(e,t,r)=>{var n=r(7293),a=r(7854),i=a.RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,r)=>{var n=r(7293),a=r(7854),i=a.RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4916:(e,t,r)=>{"use strict";var n=r(2109),a=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},4723:(e,t,r)=>{"use strict";var n=r(6916),a=r(7007),i=r(9670),s=r(8554),c=r(7466),o=r(1340),u=r(4488),l=r(8173),p=r(1530),d=r(7651);a("match",(function(e,t,r){return[function(t){var r=u(this),a=s(t)?void 0:l(t,e);return a?n(a,t,r):new RegExp(t)[e](o(r))},function(e){var n=i(this),a=o(e),s=r(t,n,a);if(s.done)return s.value;if(!n.global)return d(n,a);var u=n.unicode;n.lastIndex=0;var l,v=[],g=0;while(null!==(l=d(n,a))){var f=o(l[0]);v[g]=f,""===f&&(n.lastIndex=p(a,c(n.lastIndex),u)),g++}return 0===g?null:v}]}))},9805:(e,t,r)=>{"use strict";r.d(t,{Qk:()=>h,lJ:()=>g,s8:()=>d,vL:()=>o,wb:()=>l});var n=r(6835),a=r(8534),i=r(9669),s=r.n(i),c="http://localhost:80";function o(){return u.apply(this,arguments)}function u(){return u=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/recipes/recipe/random"),{params:{number:3},withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",{data:{recipes:t.data}});case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Error fetching random recipes:",e.t0),e.abrupt("return",{data:{recipes:[]}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),u.apply(this,arguments)}function l(e){return p.apply(this,arguments)}function p(){return p=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/recipes/").concat(t),{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching recipe by ID:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),p.apply(this,arguments)}function d(e,t,r,n,a){return v.apply(this,arguments)}function v(){return v=(0,a.Z)((0,n.Z)().mark((function e(t,r,a,i,o){var u;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/recipes/search"),{params:{recipeName:t,cuisine:r,diet:a,intolerance:i,number:o},withCredentials:!0});case 3:return u=e.sent,e.abrupt("return",u.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error searching for recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),v.apply(this,arguments)}function g(e){return f.apply(this,arguments)}function f(){return f=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("".concat(c,"/users/watched"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error marking recipe as watched:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),f.apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return x=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/users/lastWatchedRecipes"),{params:{number:t},withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching last viewed recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),x.apply(this,arguments)}},6797:(e,t,r)=>{"use strict";e.exports=r.p+"img/add_black.43d6230e.png"},714:(e,t,r)=>{"use strict";e.exports=r.p+"img/add_white.1fca82fa.png"},6212:(e,t,r)=>{"use strict";e.exports=r.p+"img/defult_recipe_image.866614de.jpg"},5041:(e,t,r)=>{"use strict";e.exports=r.p+"img/glutenfree.f36f26b9.jpg"},2996:(e,t,r)=>{"use strict";e.exports=r.p+"img/heart_empty.78edbf9f.png"},3e3:(e,t,r)=>{"use strict";e.exports=r.p+"img/heart_filled.e89ff245.png"},4887:(e,t,r)=>{"use strict";e.exports=r.p+"img/vegan.1da6da0b.jpg"},7943:(e,t,r)=>{"use strict";e.exports=r.p+"img/vegetarian.3b19b30c.jpg"}}]);
//# sourceMappingURL=3.eaae2b50.js.map