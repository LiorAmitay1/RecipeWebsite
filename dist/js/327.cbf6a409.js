"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[327],{5324:(e,t,i)=>{i.d(t,{Z:()=>u});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recipe-preview"},[t("div",{staticClass:"recipe-image-container",on:{click:e.viewRecipe,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[t("img",{staticClass:"recipe-image",attrs:{src:e.recipe.imageUrl,alt:"Recipe Image"}}),e.hover?t("div",{staticClass:"overlay"},[t("span",[e._v("Click to view")])]):e._e()]),t("div",{staticClass:"recipe-content"},[t("h3",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))]),t("div",{staticClass:"icons"},[e.recipe.vegetarian?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegetarian",expression:"'Vegetarian'"}],staticClass:"icon",attrs:{src:i(7943),alt:"Vegetarian"}}):e._e(),e.recipe.vegan?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegan",expression:"'Vegan'"}],staticClass:"icon",attrs:{src:i(4887),alt:"Vegan"}}):e._e(),e.recipe.glutenFree?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Gluten Free",expression:"'Gluten Free'"}],staticClass:"icon",attrs:{src:i(5041),alt:"Gluten Free"}}):e._e()]),t("p",{staticClass:"recipe-meta"},[t("strong",[e._v("Preparation time:")]),e._v(" "+e._s(e.recipe.preparation_time)+" minutes"),t("br"),t("strong",[e._v("Likes:")]),e._v(" "+e._s(e.recipe.aggregateLikes)+" ")]),t("div",{staticClass:"status"},[e.recipe.viewed?t("span",{staticClass:"viewed"},[e._v("Viewed")]):e._e(),t("img",{staticClass:"favorite-icon",attrs:{src:e.favoriteIcon,alt:"Favorite"},on:{click:e.toggleFavorite,mouseover:function(t){e.favoriteHover=!0},mouseleave:function(t){e.favoriteHover=!1}}})])])])},a=[],s=i(6835),n=i(8534),c=(i(7658),i(3099));const o={name:"RecipePreview",props:{recipe:{type:Object,required:!0}},data:function(){return{hover:!1,favoriteHover:!1}},computed:{favoriteIcon:function(){return this.favoriteHover||this.recipe.favorited?i(3e3):i(2996)},isLoggedIn:function(){return this.$root.store.username}},methods:{viewRecipe:function(){this.$router.push({name:"recipe",params:{id:this.recipe.id}})},toggleFavorite:function(){var e=this;return(0,n.Z)((0,s.Z)().mark((function t(){return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoggedIn){t.next=3;break}return alert("Please log in to add favorites"),t.abrupt("return");case 3:if(e.recipe.favorited=!e.recipe.favorited,t.prev=4,!e.recipe.favorited){t.next=10;break}return t.next=8,(0,c.a3)(e.recipe.id);case 8:t.next=12;break;case 10:return t.next=12,(0,c.Ni)(e.recipe.id);case 12:e.$emit("toggle-favorite",e.recipe),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](4),console.error("Failed to toggle favorite:",t.t0),alert("Failed to toggle favorite. Please try again.");case 19:case"end":return t.stop()}}),t,null,[[4,15]])})))()}}},p=o;var l=i(1001),v=(0,l.Z)(p,r,a,!1,null,"219630ea",null);const u=v.exports},6327:(e,t,i)=>{i.r(t),i.d(t,{default:()=>f});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"background"},[t("div",{staticClass:"container"},[t("h1",{staticClass:"title"},[e._v("My Recipes")]),t("div",{staticClass:"recipes-list"},e._l(e.recipes,(function(i,r){return t("div",{key:r,staticClass:"recipe-wrapper"},[t("RecipePreview",{attrs:{recipe:i},on:{"toggle-favorite":e.toggleFavorite}}),t("button",{staticClass:"delete-button",on:{click:function(t){return e.deleteRecipe(i.title)}}},[e._v("Ã—")])],1)})),0)])])},a=[],s=i(6835),n=i(8534),c=(i(7327),i(1539),i(8862),i(5324)),o=i(3099);const p={name:"MyRecipesPage",components:{RecipePreview:c.Z},data:function(){return{recipes:[]}},created:function(){this.loadRecipes()},methods:{loadRecipes:function(){var e=this;return(0,n.Z)((0,s.Z)().mark((function t(){var i;return(0,s.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,o.V4)();case 3:i=t.sent,e.recipes=i,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.error("Failed to load recipes:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()},deleteRecipe:function(e){var t=this;return(0,n.Z)((0,s.Z)().mark((function i(){return(0,s.Z)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,o.eI)(e);case 3:t.recipes=t.recipes.filter((function(t){return t.title!==e})),i.next=9;break;case 6:i.prev=6,i.t0=i["catch"](0),console.error("Failed to delete recipe:",i.t0);case 9:case"end":return i.stop()}}),i,null,[[0,6]])})))()},toggleFavorite:function(e){e.favorited=!e.favorited,this.updateFavorites()},updateFavorites:function(){var e=this.recipes.filter((function(e){return e.favorited}));localStorage.setItem("favoriteRecipes",JSON.stringify(e))}}},l=p;var v=i(1001),u=(0,v.Z)(l,r,a,!1,null,"db5f2f2a",null);const f=u.exports},5041:(e,t,i)=>{e.exports=i.p+"img/glutenfree.f36f26b9.jpg"},2996:(e,t,i)=>{e.exports=i.p+"img/heart_empty.78edbf9f.png"},3e3:(e,t,i)=>{e.exports=i.p+"img/heart_filled.e89ff245.png"},4887:(e,t,i)=>{e.exports=i.p+"img/vegan.1da6da0b.jpg"},7943:(e,t,i)=>{e.exports=i.p+"img/vegetarian.3b19b30c.jpg"}}]);
//# sourceMappingURL=327.cbf6a409.js.map