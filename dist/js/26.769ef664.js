(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[26],{2026:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recipe-preview"},[t("div",{staticClass:"recipe-image-container",on:{click:e.viewRecipe,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[t("img",{staticClass:"recipe-image",attrs:{src:e.recipeImage,alt:"Recipe Image"}}),e.hover?t("div",{staticClass:"overlay"},[t("span",[e._v("Click to view")])]):e._e()]),t("div",{staticClass:"recipe-content"},[t("h3",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))]),t("div",{staticClass:"icons"},[e.recipe.vegetarian?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegetarian",expression:"'Vegetarian'"}],staticClass:"icon",attrs:{src:r(7943),alt:"Vegetarian"}}):e._e(),e.recipe.vegan?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegan",expression:"'Vegan'"}],staticClass:"icon",attrs:{src:r(4887),alt:"Vegan"}}):e._e(),e.recipe.glutenFree?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Gluten Free",expression:"'Gluten Free'"}],staticClass:"icon",attrs:{src:r(5041),alt:"Gluten Free"}}):e._e()]),t("p",{staticClass:"recipe-meta"},[t("strong",[e._v("Preparation time:")]),e._v(" "+e._s(e.recipe.readyInMinutes||"N/A")+" minutes"),t("br"),t("strong",[e._v("Likes:")]),e._v(" "+e._s(e.recipe.aggregateLikes||Math.floor(300*Math.random())+1)+" ")]),t("div",{staticClass:"status"},[t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Viewed",expression:"'Viewed'"}],staticClass:"viewed-icon",attrs:{src:e.viewedIcon,alt:"Viewed"}}),t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Favorite",expression:"'Favorite'"}],staticClass:"favorite-icon",attrs:{src:e.favoriteIcon,alt:"Favorite"},on:{click:e.toggleFavorite,mouseover:function(t){e.favoriteHover=!0},mouseleave:function(t){e.favoriteHover=!1}}})])])])},a=[],i=r(6835),s=r(8534),c=(r(4916),r(4723),r(7658),r(3099)),o=r(9805);const u={name:"RecipePreview",props:{recipe:{type:Object,required:!0}},data:function(){return{hover:!1,favoriteHover:!1,favorited:!1,viewed:!1}},computed:{recipeImage:function(){return this.recipe.image&&this.recipe.image.match(/\.(jpeg|jpg|gif|png)$/)?this.recipe.image:r(6212)},favoriteIcon:function(){return this.favorited?r(3e3):r(2996)},viewedIcon:function(){return this.viewed?r(5558):r(5170)},isLoggedIn:function(){return this.$root.store.username}},created:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.Dq)(e.recipe.id);case 3:return e.favorited=t.sent,t.next=6,(0,o.ts)(e.recipe.id);case 6:e.viewed=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("Error checking favorite or viewed status:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{viewRecipe:function(){this.$router.push({name:"recipe",params:{id:this.recipe.id}})},toggleFavorite:function(){var e=this;return(0,s.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoggedIn){t.next=3;break}return alert("Please log in to add favorites"),t.abrupt("return");case 3:if(t.prev=3,!e.favorited){t.next=10;break}return t.next=7,(0,c.Ni)(e.recipe.id);case 7:e.favorited=!1,t.next=13;break;case 10:return t.next=12,(0,c.a3)(e.recipe.id);case 12:e.favorited=!0;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),console.error("Failed to toggle favorite:",t.t0),alert("Failed to toggle favorite. Please try again.");case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))()}}},p=u;var l=r(1001),v=(0,l.Z)(p,n,a,!1,null,"6bfea83a",null);const d=v.exports},1530:(e,t,r)=>{"use strict";var n=r(8710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},7007:(e,t,r)=>{"use strict";r(4916);var n=r(1470),a=r(8052),i=r(2261),s=r(7293),c=r(5112),o=r(8880),u=c("species"),p=RegExp.prototype;e.exports=function(e,t,r,l){var v=c(e),d=!s((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),g=d&&!s((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return t=!0,null},r[v](""),!t}));if(!d||!g||r){var f=n(/./[v]),h=t(v,""[e],(function(e,t,r,a,s){var c=n(e),o=t.exec;return o===i||o===p.exec?d&&!s?{done:!0,value:f(t,r,a)}:{done:!0,value:c(r,t,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(p,v,h[1])}l&&o(p[v],"sham",!0)}},7651:(e,t,r)=>{var n=r(6916),a=r(9670),i=r(614),s=r(4326),c=r(2261),o=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var u=n(r,e,t);return null!==u&&a(u),u}if("RegExp"===s(e))return n(c,e,t);throw o("RegExp#exec called on incompatible receiver")}},2261:(e,t,r)=>{"use strict";var n=r(6916),a=r(1702),i=r(1340),s=r(7066),c=r(2999),o=r(2309),u=r(30),p=r(9909).get,l=r(9441),v=r(7168),d=o("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,f=g,h=a("".charAt),x=a("".indexOf),m=a("".replace),w=a("".slice),b=function(){var e=/a/,t=/b*/g;return n(g,e,"a"),n(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),I=c.BROKEN_CARET,y=void 0!==/()??/.exec("")[1],k=b||y||I||l||v;k&&(f=function(e){var t,r,a,c,o,l,v,k=this,_=p(k),C=i(e),Z=_.raw;if(Z)return Z.lastIndex=k.lastIndex,t=n(f,Z,C),k.lastIndex=Z.lastIndex,t;var E=_.groups,R=I&&k.sticky,F=n(s,k),N=k.source,V=0,j=C;if(R&&(F=m(F,"y",""),-1===x(F,"g")&&(F+="g"),j=w(C,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==h(C,k.lastIndex-1))&&(N="(?: "+N+")",j=" "+j,V++),r=new RegExp("^(?:"+N+")",F)),y&&(r=new RegExp("^"+N+"$(?!\\s)",F)),b&&(a=k.lastIndex),c=n(g,R?r:k,j),R?c?(c.input=w(c.input,V),c[0]=w(c[0],V),c.index=k.lastIndex,k.lastIndex+=c[0].length):k.lastIndex=0:b&&c&&(k.lastIndex=k.global?c.index+c[0].length:a),y&&c&&c.length>1&&n(d,c[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(c[o]=void 0)})),c&&E)for(c.groups=l=u(null),o=0;o<E.length;o++)v=E[o],l[v[0]]=c[v[1]];return c}),e.exports=f},7066:(e,t,r)=>{"use strict";var n=r(9670);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},2999:(e,t,r)=>{var n=r(7293),a=r(7854),i=a.RegExp,s=n((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),c=s||n((function(){return!i("a","y").sticky})),o=s||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:s}},9441:(e,t,r)=>{var n=r(7293),a=r(7854),i=a.RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:(e,t,r)=>{var n=r(7293),a=r(7854),i=a.RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4916:(e,t,r)=>{"use strict";var n=r(2109),a=r(2261);n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},4723:(e,t,r)=>{"use strict";var n=r(6916),a=r(7007),i=r(9670),s=r(8554),c=r(7466),o=r(1340),u=r(4488),p=r(8173),l=r(1530),v=r(7651);a("match",(function(e,t,r){return[function(t){var r=u(this),a=s(t)?void 0:p(t,e);return a?n(a,t,r):new RegExp(t)[e](o(r))},function(e){var n=i(this),a=o(e),s=r(t,n,a);if(s.done)return s.value;if(!n.global)return v(n,a);var u=n.unicode;n.lastIndex=0;var p,d=[],g=0;while(null!==(p=v(n,a))){var f=o(p[0]);d[g]=f,""===f&&(n.lastIndex=l(a,c(n.lastIndex),u)),g++}return 0===g?null:d}]}))},9805:(e,t,r)=>{"use strict";r.d(t,{Qk:()=>h,lJ:()=>g,s8:()=>v,ts:()=>m,vL:()=>o,wb:()=>p});var n=r(6835),a=r(8534),i=r(9669),s=r.n(i),c="http://localhost:80";function o(){return u.apply(this,arguments)}function u(){return u=(0,a.Z)((0,n.Z)().mark((function e(){var t;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/recipes/recipe/random"),{params:{number:3},withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",{data:{recipes:t.data}});case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Error fetching random recipes:",e.t0),e.abrupt("return",{data:{recipes:[]}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),u.apply(this,arguments)}function p(e){return l.apply(this,arguments)}function l(){return l=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/recipes/").concat(t),{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching recipe by ID:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),l.apply(this,arguments)}function v(e,t,r,n,a){return d.apply(this,arguments)}function d(){return d=(0,a.Z)((0,n.Z)().mark((function e(t,r,a,i,o){var u;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/recipes/search"),{params:{recipeName:t,cuisine:r,diet:a,intolerance:i,number:o},withCredentials:!0});case 3:return u=e.sent,e.abrupt("return",u.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error searching for recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),d.apply(this,arguments)}function g(e){return f.apply(this,arguments)}function f(){return f=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("".concat(c,"/users/watched"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error marking recipe as watched:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),f.apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return x=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("".concat(c,"/users/lastWatchedRecipes"),{params:{number:t},withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching last viewed recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),x.apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return w=(0,a.Z)((0,n.Z)().mark((function e(t){var r;return(0,n.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().post("".concat(c,"/users/isWatched"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data.watched);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error checking if recipe is watched:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),w.apply(this,arguments)}},6212:(e,t,r)=>{"use strict";e.exports=r.p+"img/defult_recipe_image.866614de.jpg"},5041:(e,t,r)=>{"use strict";e.exports=r.p+"img/glutenfree.f36f26b9.jpg"},2996:(e,t,r)=>{"use strict";e.exports=r.p+"img/heart_empty.78edbf9f.png"},3e3:(e,t,r)=>{"use strict";e.exports=r.p+"img/heart_filled.e89ff245.png"},5170:(e,t,r)=>{"use strict";e.exports=r.p+"img/not_seen.85ca85df.png"},5558:(e,t,r)=>{"use strict";e.exports=r.p+"img/seen.1b62cfd3.png"},4887:(e,t,r)=>{"use strict";e.exports=r.p+"img/vegan.1da6da0b.jpg"},7943:(e,t,r)=>{"use strict";e.exports=r.p+"img/vegetarian.3b19b30c.jpg"}}]);
//# sourceMappingURL=26.769ef664.js.map