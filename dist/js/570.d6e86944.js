(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[570],{3688:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recipe-preview"},[t("div",{staticClass:"recipe-image-container",on:{click:e.viewRecipe,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[t("img",{staticClass:"recipe-image",attrs:{src:e.recipe.image,alt:"Recipe Image"}}),e.hover?t("div",{staticClass:"overlay"},[t("span",[e._v("Click to view")])]):e._e()]),t("div",{staticClass:"recipe-content"},[t("h3",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))]),t("div",{staticClass:"icons"},[e.recipe.vegetarian?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegetarian",expression:"'Vegetarian'"}],staticClass:"icon",attrs:{src:i(7943),alt:"Vegetarian"}}):e._e(),e.recipe.vegan?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegan",expression:"'Vegan'"}],staticClass:"icon",attrs:{src:i(4887),alt:"Vegan"}}):e._e(),e.recipe.glutenFree?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Gluten Free",expression:"'Gluten Free'"}],staticClass:"icon",attrs:{src:i(5041),alt:"Gluten Free"}}):e._e()]),t("p",{staticClass:"recipe-meta"},[t("strong",[e._v("Preparation time:")]),e._v(" "+e._s(e.recipe.readyInMinutes)+" minutes"),t("br"),t("strong",[e._v("Likes:")]),e._v(" "+e._s(e.recipe.aggregateLikes)+" ")]),t("div",{staticClass:"status"},[e.recipe.viewed?t("span",{staticClass:"viewed"},[e._v("Viewed")]):e._e(),t("img",{staticClass:"favorite-icon",attrs:{src:e.favoriteIcon,alt:"Favorite"},on:{click:e.toggleFavorite,mouseover:function(t){e.favoriteHover=!0},mouseleave:function(t){e.favoriteHover=!1}}})])])])},s=[];i(7658),i(5212),i(1539),i(7327),i(8862);const a={name:"RecipePreview",props:{recipe:{type:Object,required:!0}},data:function(){return{hover:!1,favoriteHover:!1}},computed:{favoriteIcon:function(){return this.favoriteHover||this.recipe.favorited?i(3e3):i(2996)},isLoggedIn:function(){return this.$root.store.username}},methods:{viewRecipe:function(){this.$router.push({name:"recipe",params:{id:this.recipe.id}})},toggleFavorite:function(){this.isLoggedIn?(this.recipe.favorited=!this.recipe.favorited,this.updateFavorites(),this.$emit("toggle-favorite",this.recipe)):alert("Please log in to add favorites")},updateFavorites:function(){var e=this,t=JSON.parse(localStorage.getItem("favoriteRecipes"))||[];this.recipe.favorited?t.some((function(t){return t.id===e.recipe.id}))||t.push(this.recipe):t=t.filter((function(t){return t.id!==e.recipe.id})),localStorage.setItem("favoriteRecipes",JSON.stringify(t))}}},o=a;var n=i(1001),c=(0,n.Z)(o,r,s,!1,null,"78e36e59",null);const u=c.exports},7127:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var r=function(){var e=this,t=e._self._c;return t("b-container",[t("h3",[e._v(" "+e._s(e.title)+" "),e._t("default")],2),t("b-row",e._l(e.displayedRecipes,(function(e){return t("b-col",{key:e.id},[t("RecipePreview",{staticClass:"recipePreview",attrs:{recipe:e}})],1)})),1)],1)},s=[],a=(i(9653),i(7042),i(3688));const o={name:"RecipePreviewList",components:{RecipePreview:a.Z},props:{title:{type:String,required:!0},recipes:{type:Array,required:!0},amountToShow:{type:Number,default:3}},computed:{displayedRecipes:function(){return this.recipes.slice(0,this.amountToShow)}}},n=o;var c=i(1001),u=(0,c.Z)(n,r,s,!1,null,"2b1af709",null);const l=u.exports},8570:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>R});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"background"},[t("div",{staticClass:"container"},[t("div",{staticClass:"left-side-container"},[t("div",{staticClass:"left-side"},[t("h2",{staticClass:"container-title"},[e._v("Random Recipes")]),t("RecipePreviewList",{attrs:{recipes:e.randomRecipes,amountToShow:e.numRandomRecipes}}),t("div",{staticClass:"button-container"},[t("button",{staticClass:"form-button-custom",on:{click:e.fetchRandomRecipes}},[e._v("Get New Recipes")])])],1)]),t("div",{staticClass:"right-side-container"},[t("div",{staticClass:"right-side"},[e.$root.store.username?[t("div",{staticClass:"user-section"},[t("h2",{staticClass:"container-title"},[e._v("Last Viewed Recipes")]),t("RecipePreviewList",{attrs:{recipes:e.lastViewedRecipes,amountToShow:e.numLastViewedRecipes}})],1)]:[t("LoginForm",{on:{"login-success":e.onLoginSuccess}})]],2)])])])},s=[],a=i(4293),o=i(7127),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("h1",{staticClass:"title"},[e._v("Login")]),t("b-form",{on:{submit:function(t){return t.preventDefault(),e.onLogin.apply(null,arguments)}}},[t("b-form-group",{staticClass:"form-group-custom",attrs:{id:"input-group-Username",label:"Username:","label-for":"Username"}},[t("b-form-input",{staticClass:"form-input-custom",attrs:{id:"Username",type:"text",state:e.validateState("username")},model:{value:e.$v.form.username.$model,callback:function(t){e.$set(e.$v.form.username,"$model",t)},expression:"$v.form.username.$model"}}),t("b-form-invalid-feedback",[e._v(" Username is required ")])],1),t("b-form-group",{staticClass:"form-group-custom",attrs:{id:"input-group-Password",label:"Password:","label-for":"Password"}},[t("b-form-input",{staticClass:"form-input-custom",attrs:{id:"Password",type:"password",state:e.validateState("password")},model:{value:e.$v.form.password.$model,callback:function(t){e.$set(e.$v.form.password,"$model",t)},expression:"$v.form.password.$model"}}),t("b-form-invalid-feedback",[e._v(" Password is required ")])],1),t("b-button",{staticClass:"form-button-custom",attrs:{type:"submit",variant:"primary"}},[e._v("Login")]),t("div",{staticClass:"mt-2"},[e._v(" Do not have an account yet? "),t("router-link",{staticClass:"login-link",attrs:{to:"register"}},[e._v(" Register in here")])],1)],1),e.form.submitError?t("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Login failed: "+e._s(e.form.submitError)+" ")]):e._e()],1)},c=[],u=i(6835),l=i(8534),p=(i(7658),i(379)),m=i(9239);const v={name:"LoginForm",data:function(){return{form:{username:"",password:"",submitError:void 0}}},validations:{form:{username:{required:p.C1},password:{required:p.C1}}},methods:{validateState:function(e){var t=this.$v.form[e],i=t.$dirty,r=t.$error;return i?!r:null},Login:function(){var e=this;return(0,l.Z)((0,u.Z)().mark((function t(){return(0,u.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{!0,(0,m.mockLogin)(e.form.username,e.form.password,"success"),e.$root.store.login(e.form.username),e.$router.push("/")}catch(i){e.form.submitError=i.response.data.message}case 1:case"end":return t.stop()}}),t)})))()},onLogin:function(){this.form.submitError=void 0,this.$v.form.$touch(),this.$v.form.$anyError||this.Login()}}},d=v;var f=i(1001),g=(0,f.Z)(d,n,c,!1,null,"fbc64654",null);const h=g.exports,b={components:{RecipePreviewList:o.Z,LoginForm:h},data:function(){return{lastViewedRecipes:[],randomRecipes:[],numRandomRecipes:3,numLastViewedRecipes:5}},methods:{fetchLastViewedRecipes:function(){if(this.$root.store.username){var e=(0,a.uM)(3);this.lastViewedRecipes=e.data.recipes}},fetchRandomRecipes:function(){var e=(0,a.OI)(3);this.randomRecipes=e.data.recipes},onLoginSuccess:function(){this.fetchLastViewedRecipes()}},mounted:function(){this.fetchLastViewedRecipes(),this.fetchRandomRecipes()}},w=b;var _=(0,f.Z)(w,r,s,!1,null,"510dbaac",null);const R=_.exports},3111:(e,t,i)=>{var r=i(1702),s=i(4488),a=i(1340),o=i(1361),n=r("".replace),c=RegExp("^["+o+"]+"),u=RegExp("(^|[^"+o+"])["+o+"]+$"),l=function(e){return function(t){var i=a(s(t));return 1&e&&(i=n(i,c,"")),2&e&&(i=n(i,u,"$1")),i}};e.exports={start:l(1),end:l(2),trim:l(3)}},863:(e,t,i)=>{var r=i(1702);e.exports=r(1..valueOf)},1361:e=>{e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9653:(e,t,i)=>{"use strict";var r=i(2109),s=i(1913),a=i(9781),o=i(7854),n=i(857),c=i(1702),u=i(4705),l=i(2597),p=i(9587),m=i(7976),v=i(2190),d=i(7593),f=i(7293),g=i(8006).f,h=i(1236).f,b=i(3070).f,w=i(863),_=i(3111).trim,R="Number",C=o[R],L=n[R],$=C.prototype,I=o.TypeError,N=c("".slice),y=c("".charCodeAt),k=function(e){var t=d(e,"number");return"bigint"==typeof t?t:E(t)},E=function(e){var t,i,r,s,a,o,n,c,u=d(e,"number");if(v(u))throw I("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=_(u),t=y(u,0),43===t||45===t){if(i=y(u,2),88===i||120===i)return NaN}else if(48===t){switch(y(u,1)){case 66:case 98:r=2,s=49;break;case 79:case 111:r=8,s=55;break;default:return+u}for(a=N(u,2),o=a.length,n=0;n<o;n++)if(c=y(a,n),c<48||c>s)return NaN;return parseInt(a,r)}return+u},S=u(R,!C(" 0o1")||!C("0b1")||C("+0x1")),V=function(e){return m($,e)&&f((function(){w(e)}))},F=function(e){var t=arguments.length<1?0:C(k(e));return V(this)?p(Object(t),this,F):t};F.prototype=$,S&&!s&&($.constructor=F),r({global:!0,constructor:!0,wrap:!0,forced:S},{Number:F});var x=function(e,t){for(var i,r=a?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),s=0;r.length>s;s++)l(t,i=r[s])&&!l(e,i)&&b(e,i,h(t,i))};s&&L&&x(n[R],L),(S||s)&&x(n[R],C)}}]);
//# sourceMappingURL=570.d6e86944.js.map