"use strict";(self["webpackChunkassignment_2_1"]=self["webpackChunkassignment_2_1"]||[]).push([[488],{6488:(e,t,r)=>{r.d(t,{A:()=>d});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"recipe-preview"},[t("div",{staticClass:"recipe-image-container",on:{click:e.viewRecipe,mouseover:function(t){e.hover=!0},mouseleave:function(t){e.hover=!1}}},[t("img",{staticClass:"recipe-image",attrs:{src:e.recipeImage,alt:"Recipe Image"}}),e.hover?t("div",{staticClass:"overlay"},[t("span",[e._v("Click to view")])]):e._e()]),t("div",{staticClass:"recipe-content"},[t("h3",{staticClass:"recipe-title"},[e._v(e._s(e.recipe.title))]),t("div",{staticClass:"icons"},[e.recipe.vegetarian?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegetarian",expression:"'Vegetarian'"}],staticClass:"icon",attrs:{src:r(9104),alt:"Vegetarian"}}):e._e(),e.recipe.vegan?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Vegan",expression:"'Vegan'"}],staticClass:"icon",attrs:{src:r(1905),alt:"Vegan"}}):e._e(),e.recipe.glutenFree?t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Gluten Free",expression:"'Gluten Free'"}],staticClass:"icon",attrs:{src:r(5669),alt:"Gluten Free"}}):e._e()]),t("p",{staticClass:"recipe-meta"},[t("strong",[e._v("Preparation time:")]),e._v(" "+e._s(e.recipe.readyInMinutes||"N/A")+" minutes"),t("br"),t("strong",[e._v("Likes:")]),e._v(" "+e._s(e.recipe.aggregateLikes||Math.floor(300*Math.random())+1)+" ")]),t("div",{staticClass:"status"},[t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Viewed",expression:"'Viewed'"}],staticClass:"viewed-icon",attrs:{src:e.viewedIcon,alt:"Viewed"}}),t("img",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip",value:"Favorite",expression:"'Favorite'"}],staticClass:"favorite-icon",attrs:{src:e.favoriteIcon,alt:"Favorite"},on:{click:e.toggleFavorite,mouseover:function(t){e.favoriteHover=!0},mouseleave:function(t){e.favoriteHover=!1}}})])])])},a=[],i=r(459),s=r(388),c=(r(4114),r(7495),r(1761),r(9205)),o=r(6547);const u={name:"RecipePreview",props:{recipe:{type:Object,required:!0}},data:function(){return{hover:!1,favoriteHover:!1,favorited:!1,viewed:!1}},computed:{recipeImage:function(){return this.recipe.image&&this.recipe.image.match(/\.(jpeg|jpg|gif|png)$/)?this.recipe.image:r(4563)},favoriteIcon:function(){return this.favorited?r(6227):r(768)},viewedIcon:function(){return this.viewed?r(5249):r(4387)},isLoggedIn:function(){return this.$root.store.username}},created:function(){var e=this;return(0,s.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,c.BA)(e.recipe.id);case 3:return e.favorited=t.sent,t.next=6,(0,o.ZB)(e.recipe.id);case 6:e.viewed=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),console.error("Error checking favorite or viewed status:",t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))()},methods:{viewRecipe:function(){this.$router.push({name:"recipe",params:{id:this.recipe.id}})},toggleFavorite:function(){var e=this;return(0,s.A)((0,i.A)().mark((function t(){return(0,i.A)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isLoggedIn){t.next=3;break}return alert("Please log in to add favorites"),t.abrupt("return");case 3:if(t.prev=3,!e.favorited){t.next=10;break}return t.next=7,(0,c.Fy)(e.recipe.id);case 7:e.favorited=!1,t.next=13;break;case 10:return t.next=12,(0,c.Gm)(e.recipe.id);case 12:e.favorited=!0;case 13:t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](3),console.error("Failed to toggle favorite:",t.t0),alert("Failed to toggle favorite. Please try again.");case 19:case"end":return t.stop()}}),t,null,[[3,15]])})))()}}},p=u;var l=r(1656),v=(0,l.A)(p,n,a,!1,null,"6bfea83a",null);const d=v.exports},6547:(e,t,r)=>{r.d(t,{AM:()=>f,WI:()=>c,YX:()=>d,ZB:()=>x,dU:()=>u,qq:()=>l});var n=r(459),a=r(388),i=(r(8706),r(4335)),s="https://liors-recipes.cs.bgu.ac.il";function c(){return o.apply(this,arguments)}function o(){return o=(0,a.A)((0,n.A)().mark((function e(){var t;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.get("".concat(s,"/recipes/recipe/random"),{params:{number:3},withCredentials:!0});case 3:return t=e.sent,e.abrupt("return",{data:{recipes:t.data}});case 7:return e.prev=7,e.t0=e["catch"](0),console.error("Error fetching random recipes:",e.t0),e.abrupt("return",{data:{recipes:[]}});case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),o.apply(this,arguments)}function u(e){return p.apply(this,arguments)}function p(){return p=(0,a.A)((0,n.A)().mark((function e(t){var r;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.get("".concat(s,"/recipes/").concat(t),{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching recipe by ID:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),p.apply(this,arguments)}function l(e,t,r,n,a){return v.apply(this,arguments)}function v(){return v=(0,a.A)((0,n.A)().mark((function e(t,r,a,c,o){var u;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.get("".concat(s,"/recipes/search"),{params:{recipeName:t,cuisine:r,diet:a,intolerance:c,number:o},withCredentials:!0});case 3:return u=e.sent,e.abrupt("return",u.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error searching for recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),v.apply(this,arguments)}function d(e){return g.apply(this,arguments)}function g(){return g=(0,a.A)((0,n.A)().mark((function e(t){var r;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.post("".concat(s,"/users/watched"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error marking recipe as watched:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),g.apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return h=(0,a.A)((0,n.A)().mark((function e(t){var r;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.get("".concat(s,"/users/lastWatchedRecipes"),{params:{number:t},withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error fetching last viewed recipes:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),h.apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return m=(0,a.A)((0,n.A)().mark((function e(t){var r;return(0,n.A)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.A.post("".concat(s,"/users/isWatched"),{recipeId:t},{withCredentials:!0});case 3:return r=e.sent,e.abrupt("return",r.data.watched);case 7:throw e.prev=7,e.t0=e["catch"](0),console.error("Error checking if recipe is watched:",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),m.apply(this,arguments)}},4563:(e,t,r)=>{e.exports=r.p+"img/defult_recipe_image.866614de.jpg"},5669:(e,t,r)=>{e.exports=r.p+"img/glutenfree.f36f26b9.jpg"},768:(e,t,r)=>{e.exports=r.p+"img/heart_empty.78edbf9f.png"},6227:(e,t,r)=>{e.exports=r.p+"img/heart_filled.e89ff245.png"},4387:(e,t,r)=>{e.exports=r.p+"img/not_seen.85ca85df.png"},5249:(e,t,r)=>{e.exports=r.p+"img/seen.1b62cfd3.png"},1905:(e,t,r)=>{e.exports=r.p+"img/vegan.1da6da0b.jpg"},9104:(e,t,r)=>{e.exports=r.p+"img/vegetarian.3b19b30c.jpg"},7829:(e,t,r)=>{var n=r(8183).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},9228:(e,t,r)=>{r(7495);var n=r(9565),a=r(6840),i=r(7323),s=r(9039),c=r(8227),o=r(6699),u=c("species"),p=RegExp.prototype;e.exports=function(e,t,r,l){var v=c(e),d=!s((function(){var t={};return t[v]=function(){return 7},7!==""[e](t)})),g=d&&!s((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[u]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return t=!0,null},r[v](""),!t}));if(!d||!g||r){var f=/./[v],h=t(v,""[e],(function(e,t,r,a,s){var c=t.exec;return c===i||c===p.exec?d&&!s?{done:!0,value:n(f,t,r,a)}:{done:!0,value:n(e,r,t,a)}:{done:!1}}));a(String.prototype,e,h[0]),a(p,v,h[1])}l&&o(p[v],"sham",!0)}},6682:(e,t,r)=>{var n=r(9565),a=r(8551),i=r(4901),s=r(4576),c=r(7323),o=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var u=n(r,e,t);return null!==u&&a(u),u}if("RegExp"===s(e))return n(c,e,t);throw new o("RegExp#exec called on incompatible receiver")}},7323:(e,t,r)=>{var n=r(9565),a=r(9504),i=r(655),s=r(7979),c=r(8429),o=r(5745),u=r(2360),p=r(1181).get,l=r(3635),v=r(8814),d=o("native-string-replace",String.prototype.replace),g=RegExp.prototype.exec,f=g,h=a("".charAt),x=a("".indexOf),m=a("".replace),w=a("".slice),b=function(){var e=/a/,t=/b*/g;return n(g,e,"a"),n(g,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),A=c.BROKEN_CARET,I=void 0!==/()??/.exec("")[1],y=b||I||A||l||v;y&&(f=function(e){var t,r,a,c,o,l,v,y=this,k=p(y),_=i(e),C=k.raw;if(C)return C.lastIndex=y.lastIndex,t=n(f,C,_),y.lastIndex=C.lastIndex,t;var E=k.groups,R=A&&y.sticky,F=n(s,y),N=y.source,V=0,j=_;if(R&&(F=m(F,"y",""),-1===x(F,"g")&&(F+="g"),j=w(_,y.lastIndex),y.lastIndex>0&&(!y.multiline||y.multiline&&"\n"!==h(_,y.lastIndex-1))&&(N="(?: "+N+")",j=" "+j,V++),r=new RegExp("^(?:"+N+")",F)),I&&(r=new RegExp("^"+N+"$(?!\\s)",F)),b&&(a=y.lastIndex),c=n(g,R?r:y,j),R?c?(c.input=w(c.input,V),c[0]=w(c[0],V),c.index=y.lastIndex,y.lastIndex+=c[0].length):y.lastIndex=0:b&&c&&(y.lastIndex=y.global?c.index+c[0].length:a),I&&c&&c.length>1&&n(d,c[0],r,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(c[o]=void 0)})),c&&E)for(c.groups=l=u(null),o=0;o<E.length;o++)v=E[o],l[v[0]]=c[v[1]];return c}),e.exports=f},7979:(e,t,r)=>{var n=r(8551);e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},8429:(e,t,r)=>{var n=r(9039),a=r(4475),i=a.RegExp,s=n((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),c=s||n((function(){return!i("a","y").sticky})),o=s||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:o,MISSED_STICKY:c,UNSUPPORTED_Y:s}},3635:(e,t,r)=>{var n=r(9039),a=r(4475),i=a.RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},8814:(e,t,r)=>{var n=r(9039),a=r(4475),i=a.RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},7495:(e,t,r)=>{var n=r(6518),a=r(7323);n({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},1761:(e,t,r)=>{var n=r(9565),a=r(9228),i=r(8551),s=r(4117),c=r(8014),o=r(655),u=r(7750),p=r(5966),l=r(7829),v=r(6682);a("match",(function(e,t,r){return[function(t){var r=u(this),a=s(t)?void 0:p(t,e);return a?n(a,t,r):new RegExp(t)[e](o(r))},function(e){var n=i(this),a=o(e),s=r(t,n,a);if(s.done)return s.value;if(!n.global)return v(n,a);var u=n.unicode;n.lastIndex=0;var p,d=[],g=0;while(null!==(p=v(n,a))){var f=o(p[0]);d[g]=f,""===f&&(n.lastIndex=l(a,c(n.lastIndex),u)),g++}return 0===g?null:d}]}))}}]);
//# sourceMappingURL=488.8f5a77d8.js.map